[{"path":[]},{"path":"https://docs.ropensci.org/pangaear/CONTRIBUTING.html","id":"bugs","dir":"","previous_headings":"","what":"Bugs?","title":"CONTRIBUTING","text":"Submit issue Issues page","code":""},{"path":"https://docs.ropensci.org/pangaear/CONTRIBUTING.html","id":"code-contributions","dir":"","previous_headings":"","what":"Code contributions","title":"CONTRIBUTING","text":"Fork repo Github account Clone version account machine account, e.g,. git clone https://github.com/<yourgithubusername>/pangaear.git Make sure track progress upstream (.e., version pangaear ropensci/pangaear) git remote add upstream https://github.com/ropensci/pangaear.git. making changes make sure pull changes upstream either git fetch upstream merge later git pull upstream fetch merge one step Make changes (bonus points making changes new feature branch) Push account Submit pull request home base ropensci/pangaear","code":""},{"path":"https://docs.ropensci.org/pangaear/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 pangaear authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"introduction-to-pangaear","dir":"Articles","previous_headings":"","what":"Introduction to pangaear","title":"","text":"pangaear data retrieval interface World Data Center PANGAEA (https://www.pangaea.de/). PANGAEA archieves published Earth & Environmental Science data following subjects: agriculture, atmosphere, biological classification, biosphere, chemistry, cryosphere, ecology, fisheries, geophysics, human dimensions, lakes & rives, land surface, lithosphere, oceans, paleontology.","code":""},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"installation","dir":"Articles","previous_headings":"Introduction to pangaear","what":"Installation","title":"","text":"’ve installed yet, install CRAN: development version:","code":"install.packages(\"pangaear\") devtools::install_github(\"ropensci/pangaear\")"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"load-pangaear","dir":"Articles","previous_headings":"Introduction to pangaear","what":"Load pangaear","title":"","text":"","code":"library(\"pangaear\")"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"search-for-data","dir":"Articles","previous_headings":"Introduction to pangaear","what":"Search for data","title":"","text":"pg_search thin wrapper around GUI search interface page https://www.pangaea.de/. Everything can , can . example, query term ‘water’, bounding box, return three results. resulting data.frame details different studies, can use DOIs (Digital Object Identifiers) get data metadata studies ’re interested .","code":"pg_search(query = 'water', bbox = c(-124.2, 41.8, -116.8, 46.1), count = 3) #> # A tibble: 3 x 6 #>   score doi            size size_measure citation                                                 supplement_to                                                                       #>   <dbl> <chr>         <dbl> <chr>        <chr>                                                    <chr>                                                                               #> 1 13.0  10.1594/PANG…     4 datasets     Krylova, EM; Sahling, H; Janssen, R (2010): A new genus… Krylova, EM; Sahling, H; Janssen, R (2010): Abyssogena: a new genus of the family … #> 2 12.8  10.1594/PANG…     2 datasets     Simonyan, AV; Dultz, S; Behrens, H (2012): Diffusion tr… Simonyan, AV; Dultz, S; Behrens, H (2012): Diffusive transport of water in porous … #> 3  8.78 10.1594/PANG…  1148 data points  WOCE Surface Velocity Program, SVP (2006): Water temper… <NA>"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"another-search-option","dir":"Articles","previous_headings":"Introduction to pangaear > Search for data","what":"Another search option","title":"","text":"’s another search option pg_search_es function. interface Pangaea Elasticsearch interface. provides flexible interface search Pangaea data - though different ’re used Pangaea website. returned data.frame lot columns. can limit columns returned source parameter. attributes data.frame give total number results found well max score found. get DOIs study, use","code":"(res <- pg_search_es()) #> # A tibble: 10 x 46 #>    `_index` `_type` `_id` `_score` `_source.intern… `_source.parent… `_source.minEle… `_source.sf-aut… `_source.parent… `_source.techKe… `_source.geocod… `_source.sp-log… #>  * <chr>    <chr>   <chr>    <dbl> <chr>            <chr>                       <dbl> <chr>                       <int> <list>           <list>                      <int> #>  1 pangaea… panmd   9018…        1 2020-01-17T15:1… https://doi.org…             -0.4 Anhaus Philipp#…           901247 <chr [654]>      <chr [5]>                       1 #>  2 pangaea… panmd   9017…        1 2020-01-17T15:1… https://doi.org…              2   Anhaus Philipp#…           901247 <chr [652]>      <chr [5]>                       1 #>  3 pangaea… panmd   9017…        1 2020-01-17T15:1… https://doi.org…              2   Anhaus Philipp#…           901247 <chr [652]>      <chr [5]>                       1 #>  4 pangaea… panmd   9017…        1 2020-01-17T15:1… https://doi.org…              2   Anhaus Philipp#…           901247 <chr [652]>      <chr [5]>                       1 #>  5 pangaea… panmd   9017…        1 2020-01-17T15:1… <NA>                          2   Vuilleumier Lau…               NA <chr [51]>       <chr [6]>                       3 #>  6 pangaea… panmd   9017…        1 2020-01-17T15:1… https://doi.pan…              0.3 Peeken Ilka#Mur…           901742 <chr [101]>      <chr [6]>                       3 #>  7 pangaea… panmd   9017…        1 2020-01-17T15:1… <NA>                         NA   Schreuder Laura…               NA <chr [37]>       <chr [3]>                       1 #>  8 pangaea… panmd   9017…        1 2020-01-17T15:1… https://doi.org…              0   Schreuder Laura…           901739 <chr [39]>       <chr [7]>                       1 #>  9 pangaea… panmd   9016…        1 2020-01-17T15:1… <NA>                         10   Augustine John$…               NA <chr [25]>       <chr [6]>                       3 #> 10 pangaea… panmd   9016…        1 2020-01-17T15:1… <NA>                          2   Augustine John$…               NA <chr [29]>       <chr [6]>                       3 #> # … with 34 more variables: `_source.agg-campaign` <list>, `_source.agg-author` <list>, `_source.eastBoundLongitude` <dbl>, `_source.URI` <chr>, `_source.agg-pubYear` <int>, #> #   `_source.minDateTime` <chr>, `_source.agg-geometry` <chr>, `_source.xml-thumb` <chr>, `_source.xml` <chr>, `_source.sf-idDataSet` <int>, `_source.elevationGeocode` <chr>, #> #   `_source.agg-method` <list>, `_source.maxDateTime` <chr>, `_source.xml-sitemap` <chr>, `_source.westBoundLongitude` <dbl>, `_source.northBoundLatitude` <dbl>, #> #   `_source.sp-dataStatus` <int>, `_source.nDataPoints` <int>, `_source.sp-hidden` <lgl>, `_source.agg-location` <list>, `_source.internal-source` <chr>, #> #   `_source.agg-basis` <chr>, `_source.southBoundLatitude` <dbl>, `_source.boost` <dbl>, `_source.oaiSet` <list>, `_source.maxElevation` <dbl>, `_source.agg-mainTopic` <list>, #> #   `_source.agg-topic` <list>, `_source.agg-project` <list>, `_source.meanPosition.lat` <dbl>, `_source.meanPosition.lon` <dbl>, `_source.geoCoverage.type` <chr>, #> #   `_source.geoCoverage.coordinates` <list>, `_source.geoCoverage.geometries` <list> attributes(res) #> $names #>  [1] \"_index\"                          \"_type\"                           \"_id\"                             \"_score\"                          \"_source.internal-datestamp\"      #>  [6] \"_source.parentURI\"               \"_source.minElevation\"            \"_source.sf-authortitle\"          \"_source.parentIdDataSet\"         \"_source.techKeyword\"             #> [11] \"_source.geocodes\"                \"_source.sp-loginOption\"          \"_source.agg-campaign\"            \"_source.agg-author\"              \"_source.eastBoundLongitude\"      #> [16] \"_source.URI\"                     \"_source.agg-pubYear\"             \"_source.minDateTime\"             \"_source.agg-geometry\"            \"_source.xml-thumb\"               #> [21] \"_source.xml\"                     \"_source.sf-idDataSet\"            \"_source.elevationGeocode\"        \"_source.agg-method\"              \"_source.maxDateTime\"             #> [26] \"_source.xml-sitemap\"             \"_source.westBoundLongitude\"      \"_source.northBoundLatitude\"      \"_source.sp-dataStatus\"           \"_source.nDataPoints\"             #> [31] \"_source.sp-hidden\"               \"_source.agg-location\"            \"_source.internal-source\"         \"_source.agg-basis\"               \"_source.southBoundLatitude\"      #> [36] \"_source.boost\"                   \"_source.oaiSet\"                  \"_source.maxElevation\"            \"_source.agg-mainTopic\"           \"_source.agg-topic\"               #> [41] \"_source.agg-project\"             \"_source.meanPosition.lat\"        \"_source.meanPosition.lon\"        \"_source.geoCoverage.type\"        \"_source.geoCoverage.coordinates\" #> [46] \"_source.geoCoverage.geometries\"  #>  #> $row.names #>  [1]  1  2  3  4  5  6  7  8  9 10 #>  #> $class #> [1] \"tbl_df\"     \"tbl\"        \"data.frame\" #>  #> $total #> [1] 390620 #>  #> $max_score #> [1] 1 attr(res, \"total\") #> [1] 390620 attr(res, \"max_score\") #> [1] 1 gsub(\"https://doi.org/\", \"\", res$`_source.URI`) #>  [1] \"10.1594/PANGAEA.901810\"                        \"10.1594/PANGAEA.901736\"                        \"10.1594/PANGAEA.901733\"                        #>  [4] \"10.1594/PANGAEA.901732\"                        \"https://doi.pangaea.de/10.1594/PANGAEA.901710\" \"https://doi.pangaea.de/10.1594/PANGAEA.901709\" #>  [7] \"10.1594/PANGAEA.901739\"                        \"10.1594/PANGAEA.901738\"                        \"https://doi.pangaea.de/10.1594/PANGAEA.901697\" #> [10] \"https://doi.pangaea.de/10.1594/PANGAEA.901695\""},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"get-data","dir":"Articles","previous_headings":"Introduction to pangaear","what":"Get data","title":"","text":"function pg_data fetches datasets studies DOIs. Search data pass one DOIs pg_data function.","code":"res <- pg_data(doi = '10.1594/PANGAEA.807580') res[[1]] #> <Pangaea data> 10.1594/PANGAEA.807580 #>   parent doi: 10.1594/PANGAEA.807580 #>   url:        https://doi.org/10.1594/PANGAEA.807580 #>   citation:   Schiebel, Ralf; Waniek, Joanna J; Bork, Matthias; Hemleben, Christoph (2001): Physical oceanography during METEOR cruise M36/6. PANGAEA, https://doi.org/10.1594/PANGAEA.807580, In supplement to: Schiebel, R et al. (2001): Planktic foraminiferal production stimulated by chlorophyll redistribution and entrainment of nutrients. Deep Sea Research Part I: Oceanographic Research Papers, 48(3), 721-740, https://doi.org/10.1016/S0967-0637(00)00065-0 #>   path:       /Users/sckott/Library/Caches/R/pangaear/10_1594_PANGAEA_807580.txt #>   data: #> # A tibble: 32,179 x 13 #>    Event       `Date/Time`    Latitude Longitude `Elevation [m]` `Depth water [m… `Press [dbar]` `Temp [°C]`   Sal `Tpot [°C]` `Sigma-theta [kg/m… `Sigma in situ [kg… `Cond [mS/cm]` #>    <chr>       <chr>             <dbl>     <dbl>           <int>            <dbl>          <int>       <dbl> <dbl>       <dbl>               <dbl>               <dbl>          <dbl> #>  1 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             0                 0        15.7  35.7        15.7                26.4                26.4           44.4 #>  2 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             0.99              1        15.7  35.7        15.7                26.4                26.4           44.4 #>  3 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             1.98              2        15.7  35.7        15.7                26.4                26.4           44.4 #>  4 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             2.97              3        15.7  35.7        15.7                26.4                26.4           44.4 #>  5 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             3.96              4        15.7  35.7        15.7                26.4                26.4           44.4 #>  6 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             4.96              5        15.7  35.7        15.7                26.4                26.4           44.4 #>  7 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             5.95              6        15.7  35.7        15.7                26.4                26.4           44.4 #>  8 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             6.94              7        15.7  35.7        15.7                26.4                26.4           44.4 #>  9 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             7.93              8        15.7  35.7        15.7                26.4                26.4           44.4 #> 10 M36/6-CTD-… 1996-10-14T12…     49.0     -16.5           -4802             8.92              9        15.7  35.7        15.7                26.4                26.4           44.4 #> # … with 32,169 more rows res <- pg_search(query = 'water', bbox = c(-124.2, 41.8, -116.8, 46.1), count = 3) pg_data(res$doi[3])[1:3] #> [[1]] #> <Pangaea data> 10.1594/PANGAEA.405695 #>   parent doi: 10.1594/PANGAEA.405695 #>   url:        https://doi.org/10.1594/PANGAEA.405695 #>   citation:   WOCE Surface Velocity Program, SVP (2006): Water temperature and current velocity from surface drifter SVP_9524470. PANGAEA, https://doi.org/10.1594/PANGAEA.405695 #>   path:       /Users/sckott/Library/Caches/R/pangaear/10_1594_PANGAEA_405695.txt #>   data: #> # A tibble: 192 x 10 #>    `Date/Time`      Latitude Longitude `Depth water [m]` `Temp [°C]` `UC [cm/s]` `VC [cm/s]` `Lat e` `Lon e`  Code #>    <chr>               <dbl>     <dbl>             <int>       <dbl>       <dbl>       <dbl>   <dbl>   <dbl> <int> #>  1 1995-12-21T18:00     42.9     -125.                 0        12.4       NA          NA     0.0001  0.0001     1 #>  2 1995-12-22T00:00     42.9     -125.                 0        12.4        4.24      -35.2   0       0          1 #>  3 1995-12-22T06:00     42.8     -125.                 0        12.4       -7.8       -38.7   0.0002  0.0001     1 #>  4 1995-12-22T12:00     42.7     -125.                 0        12.4      -12.7       -23.1   0.0001  0.0001     1 #>  5 1995-12-22T18:00     42.7     -125.                 0        12.4      -15.1       -13.7   0       0          1 #>  6 1995-12-23T00:00     42.7     -125.                 0        12.3      -24.1        -9.15  0.0001  0.0001     1 #>  7 1995-12-23T06:00     42.7     -125.                 0        12.3      -38.4         0.65  0.0001  0.0001     1 #>  8 1995-12-23T12:00     42.7     -125.                 0        12.3      -37.2        15.8   0       0          1 #>  9 1995-12-23T18:00     42.7     -125.                 0        12.3      -25.4        29.6   0.0001  0.0001     1 #> 10 1995-12-24T00:00     42.8     -125.                 0        12.4      -18.5        35.1   0.0002  0.0002     1 #> # … with 182 more rows #>  #> [[2]] #> NULL #>  #> [[3]] #> NULL"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"oai-pmh-metadata","dir":"Articles","previous_headings":"Introduction to pangaear","what":"OAI-PMH metadata","title":"","text":"OAI-PMH standard protocol serving metadata around objects, case datasets. already familiar OAI-PMH luck can can use know . familiar, ’s relatively straight-forward. Note can’t get data functions, rather metadata datasets.","code":""},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"identify-the-service","dir":"Articles","previous_headings":"Introduction to pangaear > OAI-PMH metadata","what":"Identify the service","title":"","text":"","code":"pg_identify() #> <Pangaea> #>   repositoryName: PANGAEA - Data Publisher for Earth & Environmental Science #>   baseURL: https://ws.pangaea.de/oai/provider #>   protocolVersion: 2.0 #>   adminEmail: tech@pangaea.de #>   adminEmail: tech@pangaea.de #>   earliestDatestamp: 2015-01-01T00:00:00Z #>   deletedRecord: transient #>   granularity: YYYY-MM-DDThh:mm:ssZ #>   compression: gzip #>   description: oaipangaea.de:oai:pangaea.de:doi:10.1594/PANGAEA.999999"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"list-metadata-formats","dir":"Articles","previous_headings":"Introduction to pangaear > OAI-PMH metadata","what":"List metadata formats","title":"","text":"","code":"pg_list_metadata_formats() #>   metadataPrefix                                                  schema                           metadataNamespace #> 1         oai_dc          http://www.openarchives.org/OAI/2.0/oai_dc.xsd http://www.openarchives.org/OAI/2.0/oai_dc/ #> 2         pan_md       http://ws.pangaea.de/schemas/pangaea/MetaData.xsd              http://www.pangaea.de/MetaData #> 3            dif  http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/dif_v9.4.xsd  http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/ #> 4       iso19139                http://www.isotc211.org/2005/gmd/gmd.xsd            http://www.isotc211.org/2005/gmd #> 5  iso19139.iodp                http://www.isotc211.org/2005/gmd/gmd.xsd            http://www.isotc211.org/2005/gmd #> 6      datacite3   http://schema.datacite.org/meta/kernel-3/metadata.xsd         http://datacite.org/schema/kernel-3 #> 7      datacite4 http://schema.datacite.org/meta/kernel-4.1/metadata.xsd         http://datacite.org/schema/kernel-4"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"list-identifiers","dir":"Articles","previous_headings":"Introduction to pangaear > OAI-PMH metadata","what":"List identifiers","title":"","text":"","code":"pg_list_identifiers(from = Sys.Date() - 2, until = Sys.Date())"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"list-sets","dir":"Articles","previous_headings":"Introduction to pangaear > OAI-PMH metadata","what":"List sets","title":"","text":"","code":"pg_list_sets() #> # A tibble: 282 x 2 #>    setSpec   setName                                         #>    <chr>     <chr>                                           #>  1 ACD       PANGAEA set / keyword 'ACD' (2 data sets)       #>  2 ASPS      PANGAEA set / keyword 'ASPS' (59 data sets)     #>  3 AWIXRFraw PANGAEA set / keyword 'AWIXRFraw' (1 data sets) #>  4 BAH1960   PANGAEA set / keyword 'BAH1960' (2 data sets)   #>  5 BAH1961   PANGAEA set / keyword 'BAH1961' (2 data sets)   #>  6 BAH1962   PANGAEA set / keyword 'BAH1962' (7 data sets)   #>  7 BAH1963   PANGAEA set / keyword 'BAH1963' (7 data sets)   #>  8 BAH1964   PANGAEA set / keyword 'BAH1964' (7 data sets)   #>  9 BAH1965   PANGAEA set / keyword 'BAH1965' (7 data sets)   #> 10 BAH1966   PANGAEA set / keyword 'BAH1966' (6 data sets)   #> # … with 272 more rows"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"list-records","dir":"Articles","previous_headings":"Introduction to pangaear > OAI-PMH metadata","what":"List records","title":"","text":"","code":"pg_list_records(from = Sys.Date() - 1, until = Sys.Date())"},{"path":"https://docs.ropensci.org/pangaear/articles/pangaear.html","id":"get-a-record","dir":"Articles","previous_headings":"Introduction to pangaear > OAI-PMH metadata","what":"Get a record","title":"","text":"","code":"pg_get_record(identifier = \"oai:pangaea.de:doi:10.1594/PANGAEA.788382\") #> $`oai:pangaea.de:doi:10.1594/PANGAEA.788382` #> $`oai:pangaea.de:doi:10.1594/PANGAEA.788382`$header #> # A tibble: 1 x 3 #>   identifier                                datestamp            setSpec                                            #>   <chr>                                     <chr>                <chr>                                              #> 1 oai:pangaea.de:doi:10.1594/PANGAEA.788382 2020-01-18T03:11:42Z citable;supplement;topicChemistry;topicLithosphere #>  #> $`oai:pangaea.de:doi:10.1594/PANGAEA.788382`$metadata #> # A tibble: 1 x 13 #>   title            creator     source                publisher date   type   format  identifier       description               language rights       coverage               subject  #>   <chr>            <chr>       <chr>                 <chr>     <chr>  <chr>  <chr>   <chr>            <chr>                     <chr>    <chr>        <chr>                  <chr>    #> 1 Trace metals in… Demina, Ly… P.P. Shirshov Instit… PANGAEA   2012-… Datas… applic… https://doi.pan… Bioaccumulation of trace… en       CC-BY-3.0: … MEDIAN LATITUDE: 29.1… Archive…"},{"path":"https://docs.ropensci.org/pangaear/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Scott Chamberlain. Author, maintainer. Kara Woo. Author. Andrew MacDonald. Author. Naupaka  Zimmerman. Author. Gavin Simpson. Author.","code":""},{"path":"https://docs.ropensci.org/pangaear/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Chamberlain S, Woo K, MacDonald , Zimmerman N, Simpson G (2024). pangaear: Client 'Pangaea' Database. R package version 1.1.0,  https://docs.ropensci.org/pangaear/ (documentation), https://github.com/ropensci/pangaear (devel).","code":"@Manual{,   title = {pangaear: Client for the 'Pangaea' Database},   author = {Scott Chamberlain and Kara Woo and Andrew MacDonald and Naupaka  Zimmerman and Gavin Simpson},   year = {2024},   note = {R package version 1.1.0,  https://docs.ropensci.org/pangaear/ (documentation)},   url = {https://github.com/ropensci/pangaear (devel)}, }"},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"pangaear","dir":"","previous_headings":"","what":"Client for the Pangaea Database","title":"Client for the Pangaea Database","text":"pangaear data retrieval interface World Data Center PANGAEA (https://www.pangaea.de/). PANGAEA archieves published Earth & Environmental Science data following subjects: agriculture, atmosphere, biological classification, biosphere, chemistry, cryosphere, ecology, fisheries, geophysics, human dimensions, lakes & rives, land surface, lithosphere, oceans, paleontology. package offers tools interact PANGAEA Database, including functions searching data, fetching datasets dataset ID, working PANGAEA OAI-PMH service.","code":""},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"info","dir":"","previous_headings":"","what":"Info","title":"Client for the Pangaea Database","text":"Pangaea website. Pangaea OAI-PMH docs. OAI-PMH Spec","code":""},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"package-api","dir":"","previous_headings":"","what":"Package API","title":"Client for the Pangaea Database","text":"pg_data pg_list_metadata_formats pg_identify pg_list_records pg_list_sets pg_list_identifiers pg_search pg_get_record pg_cache pg_search_es pg_cache_list pg_cache_clear","code":""},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Client for the Pangaea Database","text":"Stable version Dev version","code":"install.packages(\"pangaear\") remotes::install_github('ropensci/pangaear') library('pangaear')"},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"search-for-data","dir":"","previous_headings":"","what":"Search for data","title":"Client for the Pangaea Database","text":"thin wrapper around GUI search interface page https://www.pangaea.de/. Everything can , can .","code":"pg_search(query = 'water', bbox = c(-124.2, 41.8, -116.8, 46.1), count = 3) #> # A tibble: 3 × 6 #>   score doi                     size size_measure citation               suppl…¹ #>   <dbl> <chr>                  <dbl> <chr>        <chr>                  <chr>   #> 1 13.3  10.1594/PANGAEA.812094     2 datasets     Simonyan, AV; Dultz, … Simony… #> 2 12.8  10.1594/PANGAEA.774629     4 datasets     Krylova, EM; Sahling,… Krylov… #> 3  9.05 10.1594/PANGAEA.406110   598 data points  WOCE Surface Velocity… <NA>    #> # … with abbreviated variable name ¹​supplement_to"},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"get-data","dir":"","previous_headings":"","what":"Get data","title":"Client for the Pangaea Database","text":"Search data pass DOI data function.","code":"res <- pg_data(doi = '10.1594/PANGAEA.807580') res[[1]] #> <Pangaea data> 10.1594/PANGAEA.807580 #>   parent doi: 10.1594/PANGAEA.807580 #>   url:        https://doi.org/10.1594/PANGAEA.807580 #>   citation:   Schiebel, Ralf; Waniek, Joanna J; Bork, Matthias; Hemleben, Christoph (2001): Physical oceanography during METEOR cruise M36/6. PANGAEA, https://doi.org/10.1594/PANGAEA.807580, In supplement to: Schiebel, R et al. (2001): Planktic foraminiferal production stimulated by chlorophyll redistribution and entrainment of nutrients. Deep Sea Research Part I: Oceanographic Research Papers, 48(3), 721-740, https://doi.org/10.1016/S0967-0637(00)00065-0 #>   path:       /Users/sckott/Library/Caches/R/pangaear/10_1594_PANGAEA_807580.txt #>   data: #> # A tibble: 32,179 × 13 #>    Event   Date/…¹ Latit…² Longi…³ Eleva…⁴ Depth…⁵ Press…⁶ Temp …⁷   Sal Tpot …⁸ #>    <chr>   <chr>     <dbl>   <dbl>   <int>   <dbl>   <int>   <dbl> <dbl>   <dbl> #>  1 M36/6-… 1996-1…    49.0   -16.5   -4802    0          0    15.7  35.7    15.7 #>  2 M36/6-… 1996-1…    49.0   -16.5   -4802    0.99       1    15.7  35.7    15.7 #>  3 M36/6-… 1996-1…    49.0   -16.5   -4802    1.98       2    15.7  35.7    15.7 #>  4 M36/6-… 1996-1…    49.0   -16.5   -4802    2.97       3    15.7  35.7    15.7 #>  5 M36/6-… 1996-1…    49.0   -16.5   -4802    3.96       4    15.7  35.7    15.7 #>  6 M36/6-… 1996-1…    49.0   -16.5   -4802    4.96       5    15.7  35.7    15.7 #>  7 M36/6-… 1996-1…    49.0   -16.5   -4802    5.95       6    15.7  35.7    15.7 #>  8 M36/6-… 1996-1…    49.0   -16.5   -4802    6.94       7    15.7  35.7    15.7 #>  9 M36/6-… 1996-1…    49.0   -16.5   -4802    7.93       8    15.7  35.7    15.7 #> 10 M36/6-… 1996-1…    49.0   -16.5   -4802    8.92       9    15.7  35.7    15.7 #> # … with 32,169 more rows, 3 more variables: `Sigma-theta [kg/m**3]` <dbl>, #> #   `Sigma in situ [kg/m**3]` <dbl>, `Cond [mS/cm]` <dbl>, and abbreviated #> #   variable names ¹​`Date/Time`, ²​Latitude, ³​Longitude, ⁴​`Elevation [m]`, #> #   ⁵​`Depth water [m]`, ⁶​`Press [dbar]`, ⁷​`Temp [°C]`, ⁸​`Tpot [°C]` res <- pg_search(query = 'water', bbox = c(-124.2, 41.8, -116.8, 46.1), count = 3) pg_data(res$doi[3])[1:3] #> [[1]] #> <Pangaea data> 10.1594/PANGAEA.406110 #>   parent doi: 10.1594/PANGAEA.406110 #>   url:        https://doi.org/10.1594/PANGAEA.406110 #>   citation:   WOCE Surface Velocity Program, SVP (2006): Water temperature and current velocity from surface drifter SVP_9616641. PANGAEA, https://doi.org/10.1594/PANGAEA.406110 #>   path:       /Users/sckott/Library/Caches/R/pangaear/10_1594_PANGAEA_406110.txt #>   data: #> # A tibble: 101 × 10 #>    Date/…¹ Latit…² Longi…³ Depth…⁴ Temp …⁵ Cur v…⁶ Cur v…⁷ Latit…⁸ Longi…⁹  Code #>    <chr>     <dbl>   <dbl>   <int>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <int> #>  1 1996-1…    41.6   -125.       0    12.7   NA      NA     0       0          1 #>  2 1996-1…    41.6   -125.       0    12.5   11.3     0.44  0.0001  0.0001     1 #>  3 1996-1…    41.6   -124.       0    12.4    2.91   13.4   0.0002  0.0002     1 #>  4 1996-1…    41.7   -124.       0    12.3    3.64   17.2   0.0005  0.0004     1 #>  5 1996-1…    41.7   -124.       0    11.9   23.4    11.8   0.0001  0.0001     1 #>  6 1996-1…    41.7   -124.       0    11.4   21.4    15.4   0.0002  0.0002     1 #>  7 1996-1…    41.8   -124.       0    11.1    0.21   24.7   0.0005  0.0004     1 #>  8 1996-1…    41.8   -124.       0    11.2   -0.86   20.5   0.0002  0.0002     1 #>  9 1996-1…    41.8   -124.       0    11.1    1.51    9.12  0.0001  0.0001     1 #> 10 1996-1…    41.9   -124.       0    11.0   -5.58   -1.96  0.0001  0.0001     1 #> # … with 91 more rows, and abbreviated variable names ¹​`Date/Time`, ²​Latitude, #> #   ³​Longitude, ⁴​`Depth water [m]`, ⁵​`Temp [°C]`, ⁶​`Cur vel U [cm/s]`, #> #   ⁷​`Cur vel V [cm/s]`, ⁸​`Latitude e`, ⁹​`Longitude e` #>  #> [[2]] #> NULL #>  #> [[3]] #> NULL"},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"oai-pmh-metadata","dir":"","previous_headings":"","what":"OAI-PMH metadata","title":"Client for the Pangaea Database","text":"","code":"# Identify the service pg_identify()  # List metadata formats pg_list_metadata_formats()  # List identifiers pg_list_identifiers(from = Sys.Date() - 2, until = Sys.Date())  # List sets pg_list_sets()  # List records pg_list_records(from = Sys.Date() - 1, until = Sys.Date())  # Get a record pg_get_record(identifier = \"oai:pangaea.de:doi:10.1594/PANGAEA.788382\")"},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"contributors-reverse-alphabetical","dir":"","previous_headings":"","what":"Contributors (reverse alphabetical)","title":"Client for the Pangaea Database","text":"Naupaka Zimmerman Kara Woo Gavin Simpson Andrew MacDonald Scott Chamberlain","code":""},{"path":"https://docs.ropensci.org/pangaear/index.html","id":"meta","dir":"","previous_headings":"","what":"Meta","title":"Client for the Pangaea Database","text":"Please report issues bugs. License: MIT Get citation information pangaear R citation(package = 'pangaear') Please note package released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pangaear-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Client for the Pangaea Database — pangaear-package","title":"Client for the Pangaea Database — pangaear-package","text":"Pangaea database","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pangaear-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Client for the Pangaea Database — pangaear-package","text":"Package includes tools interact Pangaea Database, including functions searching data, fetching datasets dataset ID, working Pangaea OAI-PMH service, Elasticsearch service.","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pangaear-package.html","id":"getting-data","dir":"Reference","previous_headings":"","what":"Getting data","title":"Client for the Pangaea Database — pangaear-package","text":"main workhorse function getting data pg_data(). One thing may want set different path caching data download: see pg_cache details","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Caching — pg_cache","title":"Caching — pg_cache","text":"Manage cached pangaear files hoardr","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Caching — pg_cache","text":"dafault cache directory paste0(rappdirs::user_cache_dir(), \"/R/pangaear\"), can set path using cache_path_set() cache_delete accepts 1 file name, cache_delete_all accept names, deletes files. deleting many specific files, use cache_delete lapply() type call","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache.html","id":"useful-user-functions","dir":"Reference","previous_headings":"","what":"Useful user functions","title":"Caching — pg_cache","text":"pg_cache$cache_path_get() get cache path pg_cache$cache_path_set() set cache path pg_cache$list() returns character vector full path file names pg_cache$files() returns file objects metadata pg_cache$details() returns files details pg_cache$delete() delete specific files pg_cache$delete_all() delete files, returns nothing","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Caching — pg_cache","text":"","code":"if (FALSE) { pg_cache  # list files in cache pg_cache$list()  # delete certain database files # pg_cache$delete(\"file path\") # pg_cache$list()  # delete all files in cache # pg_cache$delete_all() # pg_cache$list()  # set a different cache path from the default # pg_cache$cache_path_set(full_path = \"/Foo/Bar\") }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache_clear-defunct.html","id":null,"dir":"Reference","previous_headings":"","what":"cache path clear — pg_cache_clear","title":"cache path clear — pg_cache_clear","text":"cache path clear","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache_clear-defunct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"cache path clear — pg_cache_clear","text":"","code":"pg_cache_clear(...)"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache_clear-defunct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"cache path clear — pg_cache_clear","text":"... ignored","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache_list-defunct.html","id":null,"dir":"Reference","previous_headings":"","what":"cache list — pg_cache_list","title":"cache list — pg_cache_list","text":"cache list","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache_list-defunct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"cache list — pg_cache_list","text":"","code":"pg_cache_list(...)"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_cache_list-defunct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"cache list — pg_cache_list","text":"... ignored","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download data from Pangaea. — pg_data","title":"Download data from Pangaea. — pg_data","text":"Grabs data dataframe list dataframes Pangaea data repository URI; see: https://www.pangaea.de/","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download data from Pangaea. — pg_data","text":"","code":"pg_data(doi, overwrite = TRUE, mssgs = TRUE, ...)"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download data from Pangaea. — pg_data","text":"doi DOI Pangaeae single dataset, collection datasets. Expects either just DOI form 10.1594/PANGAEA.746398, URL part front, like https://doi.pangaea.de/10.1594/PANGAEA.746398 overwrite (logical) Ovewrite file one found name mssgs (logical) print information messages. Default: TRUE ... Curl options passed crul::verb-GET","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download data from Pangaea. — pg_data","text":"One items class pangaea, doi, parent doi (many dois within parent doi), url, citation, path, data object. Data object depends kind file . tabular data, print first 10 columns ; zip file list files zip (leave user dig unzip get files zip file); png files, point user read file png::readPNG()","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download data from Pangaea. — pg_data","text":"Data files stored operating system appropriate location. Run pg_cache$cache_path_get() get storage location machine. See pg_cache information, including set different base path downloaded files. files/datasets require user logged . now just pass - , give back nothing metadata.","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Download data from Pangaea. — pg_data","text":"https://www.pangaea.de","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download data from Pangaea. — pg_data","text":"Naupaka Zimmerman, Scott Chamberlain","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download data from Pangaea. — pg_data","text":"","code":"if (FALSE) { # a single file (res <- pg_data(doi='10.1594/PANGAEA.807580')) res[[1]]$doi res[[1]]$citation res[[1]]$data res[[1]]$metadata  # another single file pg_data(doi='10.1594/PANGAEA.807584')  # Many files (res <- pg_data(doi='10.1594/PANGAEA.761032')) res[[1]] res[[2]]  # Manipulating the cache ## list files in the cache pg_cache$list()  ## clear all data # pg_cache$delete_all() pg_cache$list()  ## clear a single dataset by DOI pg_data(doi='10.1594/PANGAEA.812093') pg_cache$list() path <- grep(\"PANGAEA.812093\", pg_cache$list(), value = TRUE) pg_cache$delete(path) pg_cache$list()  # search for datasets, then pass in DOIs (searchres <- pg_search(query = 'birds', count = 20)) pg_data(searchres$doi[1])  # png file pg_data(doi = \"10.1594/PANGAEA.825428\")  # zip file pg_data(doi = \"10.1594/PANGAEA.860500\")  # login required ## we skip file download pg_data(\"10.1594/PANGAEA.788547\") }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_get_record.html","id":null,"dir":"Reference","previous_headings":"","what":"Get record from the Pangaea repository — pg_get_record","title":"Get record from the Pangaea repository — pg_get_record","text":"Get record Pangaea repository","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_get_record.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get record from the Pangaea repository — pg_get_record","text":"","code":"pg_get_record(identifier, prefix = \"oai_dc\", as = \"df\", ...)"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_get_record.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get record from the Pangaea repository — pg_get_record","text":"identifier Dataset identifier. See Examples. prefix character string specify metadata format OAI-PMH requests issued repository. default (oai_dc) corresponds mandatory OAI unqualified Dublin Core metadata schema. (character) return. One \"df\" (data.frame; default), \"list\", \"raw\" (raw text) ... Curl debugging options passed oai::get_records()","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_get_record.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get record from the Pangaea repository — pg_get_record","text":"XML character string, data.frame, list, depending requested parameter","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_get_record.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get record from the Pangaea repository — pg_get_record","text":"OAI-PMH documentation","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_get_record.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get record from the Pangaea repository — pg_get_record","text":"","code":"if (FALSE) { pg_get_record(identifier = \"oai:pangaea.de:doi:10.1594/PANGAEA.788382\") pg_get_record(identifier = \"oai:pangaea.de:doi:10.1594/PANGAEA.269656\", prefix=\"iso19139\") pg_get_record(identifier = \"oai:pangaea.de:doi:10.1594/PANGAEA.269656\", prefix=\"dif\")  # invalid record id # pg_get_record(identifier = \"oai:pangaea.de:doi:10.1594/PANGAEA.11111\") # pg_get_record(identifier = \"oai:pangaea.de:doi:10.1594/PANGAEA.11111\", #   prefix=\"adfadf\") }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_identify.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify information about the Pangaea repository — pg_identify","title":"Identify information about the Pangaea repository — pg_identify","text":"Identify information Pangaea repository","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_identify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify information about the Pangaea repository — pg_identify","text":"","code":"pg_identify(...)"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_identify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify information about the Pangaea repository — pg_identify","text":"... Curl debugging options passed oai::id()","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_identify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify information about the Pangaea repository — pg_identify","text":"list","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_identify.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Identify information about the Pangaea repository — pg_identify","text":"OAI-PMH documentation","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_identify.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify information about the Pangaea repository — pg_identify","text":"","code":"if (FALSE) { pg_identify() }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_identifiers.html","id":null,"dir":"Reference","previous_headings":"","what":"List identifiers of the Pangaea repository — pg_list_identifiers","title":"List identifiers of the Pangaea repository — pg_list_identifiers","text":"List identifiers Pangaea repository","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_identifiers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List identifiers of the Pangaea repository — pg_list_identifiers","text":"","code":"pg_list_identifiers(   prefix = \"oai_dc\",   from = NULL,   until = NULL,   set = NULL,   token = NULL,   as = \"df\",   ... )"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_identifiers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List identifiers of the Pangaea repository — pg_list_identifiers","text":"prefix character string specify metadata format OAI-PMH requests issued repository. default (oai_dc) corresponds mandatory OAI unqualified Dublin Core metadata schema. Character string giving datestamp used lower bound datestamp-based selective harvesting (.e., harvest records datestamps given range). Dates times must encoded using ISO 8601. trailing Z must used including time. OAI-PMH implies UTC data/time specifications. Character string giving datestamp used upper bound, datestamp-based selective harvesting (.e., harvest records datestamps given range). set character string giving set used selective harvesting (.e., harvest records given set). token (character) token previously provided server resume request last left . 50 max number records returned. loop internally get records asked . (character) return. One \"df\" (data.frame; default), \"list\", \"raw\" (raw text) ... Curl debugging options passed oai::list_identifiers()","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_identifiers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List identifiers of the Pangaea repository — pg_list_identifiers","text":"XML character string, data.frame, list, depending requested parameter","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_identifiers.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"List identifiers of the Pangaea repository — pg_list_identifiers","text":"OAI-PMH documentation","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_identifiers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List identifiers of the Pangaea repository — pg_list_identifiers","text":"","code":"if (FALSE) { pg_list_identifiers(   from = paste0(Sys.Date() - 4, \"T00:00:00Z\"),   until = paste0(Sys.Date() - 3, \"T18:00:00Z\") ) pg_list_identifiers(set=\"geocode1\", from=Sys.Date()-1, until=Sys.Date()) pg_list_identifiers(prefix=\"iso19139\", from=Sys.Date()-1, until=Sys.Date()) pg_list_identifiers(prefix=\"dif\",   from = paste0(Sys.Date() - 2, \"T00:00:00Z\"),   until = paste0(Sys.Date() - 1, \"T18:00:00Z\") ) }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_metadata_formats.html","id":null,"dir":"Reference","previous_headings":"","what":"Get metadata formats from the Pangaea repository — pg_list_metadata_formats","title":"Get metadata formats from the Pangaea repository — pg_list_metadata_formats","text":"Get metadata formats Pangaea repository","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_metadata_formats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get metadata formats from the Pangaea repository — pg_list_metadata_formats","text":"","code":"pg_list_metadata_formats(...)"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_metadata_formats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get metadata formats from the Pangaea repository — pg_list_metadata_formats","text":"... Curl debugging options passed oai::list_metadataformats()","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_metadata_formats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get metadata formats from the Pangaea repository — pg_list_metadata_formats","text":"data.frame","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_metadata_formats.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get metadata formats from the Pangaea repository — pg_list_metadata_formats","text":"OAI-PMH documentation","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_metadata_formats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get metadata formats from the Pangaea repository — pg_list_metadata_formats","text":"","code":"if (FALSE) { pg_list_metadata_formats() }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_records.html","id":null,"dir":"Reference","previous_headings":"","what":"List records from Pangaea — pg_list_records","title":"List records from Pangaea — pg_list_records","text":"List records Pangaea","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_records.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List records from Pangaea — pg_list_records","text":"","code":"pg_list_records(   prefix = \"oai_dc\",   from = NULL,   until = NULL,   set = NULL,   token = NULL,   as = \"df\",   ... )"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_records.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List records from Pangaea — pg_list_records","text":"prefix character string specify metadata format OAI-PMH requests issued repository. default (oai_dc) corresponds mandatory OAI unqualified Dublin Core metadata schema. Character string giving datestamp used lower bound datestamp-based selective harvesting (.e., harvest records datestamps given range). Dates times must encoded using ISO 8601. trailing Z must used including time. OAI-PMH implies UTC data/time specifications. Character string giving datestamp used upper bound, datestamp-based selective harvesting (.e., harvest records datestamps given range). set character string giving set used selective harvesting (.e., harvest records given set). token (character) token previously provided server resume request last left . 50 max number records returned. loop internally get records asked . (character) return. One \"df\" (data.frame; default), \"list\", \"raw\" (raw text) ... Curl debugging options passed oai::list_records()","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_records.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List records from Pangaea — pg_list_records","text":"XML character string, data.frame, list, depending requested witht parameter","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_records.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"List records from Pangaea — pg_list_records","text":"OAI-PMH documentation","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_records.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List records from Pangaea — pg_list_records","text":"","code":"if (FALSE) { pg_list_records(set='citable', from=Sys.Date()-1, until=Sys.Date())  # When no results found > \"'noRecordsMatch'\" # pg_list_records(set='geomound', from='2015-01-01', until='2015-01-01')  pg_list_records(prefix=\"iso19139\", set='citable', from=Sys.Date()-1,   until=Sys.Date())  ## FIXME - below are broken # pg_list_records(prefix=\"dif\", set='citable', from=Sys.Date()-4, #   until=Sys.Date()) # pg_list_records(prefix=\"dif\", set='project4094', from=Sys.Date()-4, #   until=Sys.Date()) }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_sets.html","id":null,"dir":"Reference","previous_headings":"","what":"List the set structure of the Pangaea repository — pg_list_sets","title":"List the set structure of the Pangaea repository — pg_list_sets","text":"List set structure Pangaea repository","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_sets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List the set structure of the Pangaea repository — pg_list_sets","text":"","code":"pg_list_sets(token = NULL, as = \"df\", ...)"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_sets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List the set structure of the Pangaea repository — pg_list_sets","text":"token (character) token previously provided server resume request last left . 50 max number records returned. loop internally get records asked . (character) return. One \"df\" (data.frame; default), \"list\", \"raw\" (raw text) ... Curl debugging options passed oai::list_sets()","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_sets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List the set structure of the Pangaea repository — pg_list_sets","text":"XML character string, data.frame, list, depending requested parameter","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_sets.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"List the set structure of the Pangaea repository — pg_list_sets","text":"OAI-PMH documentation","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_list_sets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List the set structure of the Pangaea repository — pg_list_sets","text":"","code":"if (FALSE) { pg_list_sets() pg_list_sets(as = \"list\") pg_list_sets(as = \"raw\") }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search.html","id":null,"dir":"Reference","previous_headings":"","what":"Search the Pangaea database — pg_search","title":"Search the Pangaea database — pg_search","text":"Search Pangaea database","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search the Pangaea database — pg_search","text":"","code":"pg_search(   query,   count = 10,   offset = 0,   topic = NULL,   bbox = NULL,   mindate = NULL,   maxdate = NULL,   ... )"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search the Pangaea database — pg_search","text":"query (character) Query terms. can refine search prefixing term(s) category, one citation, reference, parameter, event, project, campaign, basis. See examples. count (integer) Number items return. Default: 10. Maximum: 500. Use offset parameter page results - see examples offset (integer) Record number start . Default: 0 topic (character) topic area: one NULL (areas), \"Agriculture\", \"Atomosphere\", \"Biological Classification\", \"Biospshere\", \"Chemistry\", \"Cryosphere\", \"Ecology\", \"Fisheries\", \"Geophysics\", \"Human Dimensions\", \"Lakes & Rivers\", \"Land Surface\", \"Lithosphere\", \"Oceans\", \"Paleontology\" bbox (numeric) bounding box, form: minlon, minlat, maxlon, maxlat mindate, maxdate (character) Dates search , form \"2014-10-28\" ... Curl options passed crul::verb-GET","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search the Pangaea database — pg_search","text":"tibble/data.frame structure: score: match score, higher better match doi: DOI data package size: size number size_measure: size measure, one \"data points\" \"datasets\" citation: citation data package supplement_to: citation data package supplement ","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Search the Pangaea database — pg_search","text":"thin wrapper around GUI search interface page https://www.pangaea.de. Everything can , can .","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search the Pangaea database — pg_search","text":"","code":"if (FALSE) { pg_search(query='water') pg_search(query='water', count=2) pg_search(query='water', count=20) pg_search(query='water', mindate=\"2013-06-01\", maxdate=\"2013-07-01\") pg_search(query='water', bbox=c(-124.2, 41.8, -116.8, 46.1)) pg_search(query='reference:Archer') pg_search(query='parameter:\"carbon dioxide\"') pg_search(query='event:M2-track') pg_search(query='event:TT011_2-CTD31') pg_search(query='project:Joint Global Ocean Flux Study') pg_search(query='campaign:M2') pg_search(query='basis:Meteor')  # paging with count and offset # max is 500 records per request - if you need > 500, use offset and count res1 <- pg_search(query = \"florisphaera\", count = 500, offset = 0) res2 <- pg_search(query = \"florisphaera\", count = 500, offset = 500) res3 <- pg_search(query = \"florisphaera\", count = 500, offset = 1000) do.call(\"rbind.data.frame\", list(res1, res2, res3))  # get attributes: maxScore, totalCount, and offset res <- pg_search(query='water', bbox=c(-124.2, 41.8, -116.8, 46.1)) attributes(res) attr(res, \"maxScore\") attr(res, \"totalCount\") attr(res, \"offset\")  # curl options pg_search(query='citation:Archer', verbose = TRUE) }"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search_es.html","id":null,"dir":"Reference","previous_headings":"","what":"Search the Pangaea database with Elasticsearch — pg_search_es","title":"Search the Pangaea database with Elasticsearch — pg_search_es","text":"Search Pangaea database Elasticsearch","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search_es.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search the Pangaea database with Elasticsearch — pg_search_es","text":"","code":"pg_search_es(   query = NULL,   size = 10,   from = NULL,   source = NULL,   df = NULL,   analyzer = NULL,   default_operator = NULL,   explain = NULL,   sort = NULL,   track_scores = NULL,   timeout = NULL,   terminate_after = NULL,   search_type = NULL,   lowercase_expanded_terms = NULL,   analyze_wildcard = NULL,   version = FALSE,   ... )"},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search_es.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search the Pangaea database with Elasticsearch — pg_search_es","text":"query (character) Query terms.. size (character) number hits return. Pass character string avoid problems large number conversion scientific notation. Default: 10. default maximum 10,000 - however, can change default maximum changing index.max_result_window index level parameter. (character) starting index hits return. Pass character string avoid problems large number conversion scientific notation. Default: 0 source (character) character vector fields return df (character) default field use field prefix defined within query. analyzer (character) analyzer name used analyzing query string. default_operator (character) default operator used, can . Default: explain (logical) hit, contain explanation scoring hits computed. Default: FALSE sort (character) Sorting perform. Can either form fieldName, fieldName:asc/fieldName:desc. fieldName can either actual field within document, special _score name indicate sorting based scores. can several sort parameters (order important). track_scores (logical) sorting, set TRUE order still track scores return part hit. timeout (numeric) search timeout, bounding search request executed within specified time value bail hits accumulated point expired. Default: timeout. terminate_after (numeric) maximum number documents collect shard, upon reaching query execution terminate early. set, response boolean field terminated_early indicate whether query execution actually terminated_early. Default: terminate_after search_type (character) type search operation perform. Can query_then_fetch (default) dfs_query_then_fetch. Types scan count deprecated. lowercase_expanded_terms (logical) terms automatically lowercased . Default: TRUE. analyze_wildcard (logical) wildcard prefix queries analyzed . Default: FALSE version (logical) Print document version document. ... Curl options passed crul::verb-GET","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search_es.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search the Pangaea database with Elasticsearch — pg_search_es","text":"tibble/data.frame, empty results","code":""},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search_es.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Search the Pangaea database with Elasticsearch — pg_search_es","text":"interface Pangaea's Elasticsearch query interface. can also just use elastic package interact . base URL https://ws.pangaea.de/es/pangaea/panmd/_search","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pangaear/reference/pg_search_es.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search the Pangaea database with Elasticsearch — pg_search_es","text":"","code":"if (FALSE) { (res <- pg_search_es()) attributes(res) attr(res, \"total\") attr(res, \"max_score\")  pg_search_es(query = 'water', source = c('parentURI', 'minElevation')) pg_search_es(query = 'water', size = 3) pg_search_es(query = 'water', size = 3, from = 10)  pg_search_es(query = 'water sky', default_operator = \"OR\") pg_search_es(query = 'water sky', default_operator = \"AND\")  pg_search_es(query = 'water', sort = \"minElevation\") pg_search_es(query = 'water', sort = \"minElevation:desc\") }"},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-110","dir":"Changelog","previous_headings":"","what":"pangaear 1.1.0","title":"pangaear 1.1.0","text":"CRAN release: 2021-05-14","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"minor-improvements-1-1-0","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"pangaear 1.1.0","text":"add markdown pkg Suggests vignette","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-100","dir":"Changelog","previous_headings":"","what":"pangaear 1.0.0","title":"pangaear 1.0.0","text":"CRAN release: 2020-01-22","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"minor-improvements-1-0-0","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"pangaear 1.0.0","text":"vcr caching pg_data tests, local files big (#74) vignette title fix (#73) pg_search fix searching bounding box crosses 180/-180 longitude: fix package, remote data source fixed problem reported user package (#71)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-082","dir":"Changelog","previous_headings":"","what":"pangaear 0.8.2","title":"pangaear 0.8.2","text":"CRAN release: 2019-09-12","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"bug-fixes-0-8-2","dir":"Changelog","previous_headings":"","what":"BUG FIXES","title":"pangaear 0.8.2","text":"detected cran checks, failing debian clang r-devel: change pg_search tests use preserve_exact_body_bytes = TRUE vcr::use_cassette() call yaml package doesn’t fail loading (#72)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-080","dir":"Changelog","previous_headings":"","what":"pangaear 0.8.0","title":"pangaear 0.8.0","text":"CRAN release: 2019-08-19","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"new-features-0-8-0","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"pangaear 0.8.0","text":"now using package hoardr managing caching, replacing package rappdirs; new object pg_cache, R6 class, methods managing cache files, deleting , listing , etc. Importantly, can set full cache path now, just folder within set directory (#66) (#69)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"minor-improvements-0-8-0","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"pangaear 0.8.0","text":"tests using vcr now http reqeust caching (#70) output pg_data() now includes metadata slot parsed metadata text files (included file txt file); parameters slot ’s part metadata partially parsed unnamed list (#67)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"bug-fixes-0-8-0","dir":"Changelog","previous_headings":"","what":"BUG FIXES","title":"pangaear 0.8.0","text":"fix pg_data(): Pangaea changed links organized datasets, fixed now (#65) fix pg_data(): response content type header changed - space added, breaking content type check; now sensitive space (#68)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-060","dir":"Changelog","previous_headings":"","what":"pangaear 0.6.0","title":"pangaear 0.6.0","text":"CRAN release: 2018-01-03","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"minor-improvements-0-6-0","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"pangaear 0.6.0","text":"Added vignette (#62) replaced httr pkg crul HTTP requests (#55) datasets require login Pangaea platform - now detect pg_data skip file download message saying . Eventually hope fix allow uesrs input credentials get file(s) (#59)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-030","dir":"Changelog","previous_headings":"","what":"pangaear 0.3.0","title":"pangaear 0.3.0","text":"CRAN release: 2017-03-08","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"new-features-0-3-0","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"pangaear 0.3.0","text":"New function pg_search_es - interface Pangaea’s Elasticsearch query interface.","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"minor-improvements-0-3-0","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"pangaear 0.3.0","text":"added tests (#57) now using markdown docs tidy code 80 line width","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"bug-fixes-0-3-0","dir":"Changelog","previous_headings":"","what":"BUG FIXES","title":"pangaear 0.3.0","text":"fixed bug oai functions due changed base url Pangaea OAI server (#53) Fix pg_search search portal now offset param - 500 results need page offset parameter (#56)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-024","dir":"Changelog","previous_headings":"","what":"pangaear 0.2.4","title":"pangaear 0.2.4","text":"CRAN release: 2016-10-07","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"minor-improvements-0-2-4","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"pangaear 0.2.4","text":"Improved examples OAI methods make sure work regardless user runs ","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"bug-fixes-0-2-4","dir":"Changelog","previous_headings":"","what":"BUG FIXES","title":"pangaear 0.2.4","text":"Fixes pg_search() needed due changes Pangaea website. Nearly identical functionality, one parameter switch (env param now topic). parameters may added future. New fields added output, added docs function. Now importing jsonlite result changes (#50) Fixes pg_data() needed due changes Pangaea website. Nothing different user. (#51)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-020","dir":"Changelog","previous_headings":"","what":"pangaear 0.2.0","title":"pangaear 0.2.0","text":"CRAN release: 2016-05-07","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"minor-improvements-0-2-0","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"pangaear 0.2.0","text":"Dropped XML, using xml2 now (#42) Using rappdirs package now determing caching path user’s machine (#46) using tibble now compact data.frame representations (#47) Dropped methods dependency (#48) Added test suite (#45)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"bug-fixes-0-2-0","dir":"Changelog","previous_headings":"","what":"BUG FIXES","title":"pangaear 0.2.0","text":"Fixes pg_search() - introduced due changes Pangaea website (#44)","code":""},{"path":"https://docs.ropensci.org/pangaear/news/index.html","id":"pangaear-010","dir":"Changelog","previous_headings":"","what":"pangaear 0.1.0","title":"pangaear 0.1.0","text":"CRAN release: 2015-11-24 Released CRAN.","code":""}]
